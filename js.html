<script>
  const app = Vue.createApp({
    data: ()=>({
      allData: null,
    }),
    methods: {
      addItem: function(event){
        console.log("CLICK")
      },
    },
    // 算出プロパティのほうはsetterができるのとキャッシュが効くらしい
    methods: {
      loadData: async function(){
        const sheetData = await this.getData();
        console.log("YES");
        this.allData = sheetData;
      },
      getData: function(){
        return new Promise((resolve, reject) => {
        google.script.run
          .withSuccessHandler((result) => resolve(result))
          .withFailureHandler((error) => resolve(error))
          .getAllData();
      });
      },
    },
  });
  app.mount("#app")
</script>
